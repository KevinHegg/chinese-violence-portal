---
import PageLayout from "../layouts/PageLayout.astro";

// This page is intentionally not linked in navigation
// It serves as internal documentation for thesis committee review
export const prerender = true;
---

<PageLayout 
  title="Site Guide & Technical Documentation" 
  currentPage="site-guide"
  description="Comprehensive technical documentation and feature guide for The John Crow Project website. Built with Astro, Tailwind CSS, and deployed on Netlify."
>
  <div class="prose prose-lg max-w-none">
    <h1 class="text-4xl font-bold mb-6 text-base-content">Site Guide & Technical Documentation</h1>
    
    <p class="text-lg text-base-content/90 leading-relaxed mb-8">
      This page provides comprehensive documentation of The John Crow Project website, including its features, 
      architecture, technology stack, and deployment infrastructure. This documentation is intended for thesis 
      committee review and future maintainers.
    </p>

    <nav class="bg-amber-50 border-l-4 border-amber-500 rounded-lg p-6 mb-8 shadow-sm not-prose">
      <h2 class="text-xl font-semibold mb-3 text-vintage-ink">Table of Contents</h2>
      <ul class="text-sm text-base-content/90 space-y-2">
        <li><a href="#features" class="text-accent hover:underline">â€¢ Site Features</a></li>
        <li><a href="#architecture" class="text-accent hover:underline">â€¢ Technical Architecture</a></li>
        <li><a href="#technology-stack" class="text-accent hover:underline">â€¢ Technology Stack</a></li>
        <li><a href="#data-pipeline" class="text-accent hover:underline">â€¢ Data Pipeline</a></li>
        <li><a href="#deployment" class="text-accent hover:underline">â€¢ Deployment Infrastructure</a></li>
        <li><a href="#seo" class="text-accent hover:underline">â€¢ SEO & AI Optimization</a></li>
        <li><a href="#accessibility" class="text-accent hover:underline">â€¢ Accessibility Compliance</a></li>
        <li><a href="#maintenance" class="text-accent hover:underline">â€¢ Maintenance & Updates</a></li>
      </ul>
    </nav>

    <h2 id="features" class="text-3xl font-semibold mt-12 mb-6 text-base-content border-b-2 border-amber-300 pb-2">Site Features</h2>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Core Functionality</h3>

    <div class="grid md:grid-cols-2 gap-6 mb-6 not-prose">
      <div class="bg-white border border-amber-200 rounded-lg p-5">
        <h4 class="text-lg font-semibold mb-3 text-vintage-ink">1. Interactive Data Exploration</h4>
        <ul class="text-sm text-base-content/90 space-y-2">
          <li><strong>Explore Records</strong> - Searchable archive of 70+ lynching incidents with keyword search and multi-facet filtering</li>
          <li><strong>Advanced Filtering</strong> - Filter by decade, state, event type, and newly documented status</li>
          <li><strong>Real-time Results</strong> - ARIA live regions announce filter results for screen readers</li>
          <li><strong>Sorting Options</strong> - Sort by date, state, or number of victims</li>
        </ul>
      </div>

      <div class="bg-white border border-amber-200 rounded-lg p-5">
        <h4 class="text-lg font-semibold mb-3 text-vintage-ink">2. Data Visualization Suite</h4>
        <ul class="text-sm text-base-content/90 space-y-2">
          <li><strong>Timeline Charts</strong> - Annual incidents and victims over time (1850-1920)</li>
          <li><strong>Comparative Analysis</strong> - Black vs. Chinese lynching data with per capita calculations</li>
          <li><strong>Event Categorization</strong> - Pie charts showing violence types and pretexts</li>
          <li><strong>Population Context</strong> - Overlay of violence data with census population trends</li>
        </ul>
      </div>

      <div class="bg-white border border-amber-200 rounded-lg p-5">
        <h4 class="text-lg font-semibold mb-3 text-vintage-ink">3. Interactive Map</h4>
        <ul class="text-sm text-base-content/90 space-y-2">
          <li><strong>Geographic Visualization</strong> - Mapbox-powered map showing incident locations</li>
          <li><strong>Animated Timeline</strong> - Play/pause timeline showing incidents chronologically</li>
          <li><strong>Keyboard Navigation</strong> - Arrow keys for panning, +/- for zoom, space for play/pause</li>
          <li><strong>Accessible Alternative</strong> - Hidden data list for screen reader users</li>
        </ul>
      </div>

      <div class="bg-white border border-amber-200 rounded-lg p-5">
        <h4 class="text-lg font-semibold mb-3 text-vintage-ink">4. Primary Source Archive</h4>
        <ul class="text-sm text-base-content/90 space-y-2">
          <li><strong>Newspaper Articles</strong> - 140+ digitized newspaper articles with full transcripts</li>
          <li><strong>Word Cloud</strong> - Interactive named entity visualization from articles</li>
          <li><strong>Article Viewer</strong> - Lightbox modal for viewing high-resolution scans</li>
          <li><strong>Filter by Entity</strong> - Click entities to filter articles</li>
        </ul>
      </div>

      <div class="bg-white border border-amber-200 rounded-lg p-5">
        <h4 class="text-lg font-semibold mb-3 text-vintage-ink">5. AI-Powered Chat Interface</h4>
        <ul class="text-sm text-base-content/90 space-y-2">
          <li><strong>Ask the Archive</strong> - Anthropic Claude Sonnet-powered Q&A</li>
          <li><strong>Contextual Responses</strong> - Answers based on full dataset and articles</li>
          <li><strong>Suggested Prompts</strong> - Pre-written questions to guide exploration</li>
          <li><strong>Markdown Support</strong> - Formatted responses with citations</li>
        </ul>
      </div>

      <div class="bg-white border border-amber-200 rounded-lg p-5">
        <h4 class="text-lg font-semibold mb-3 text-vintage-ink">6. Community Contribution</h4>
        <ul class="text-sm text-base-content/90 space-y-2">
          <li><strong>Submit Form</strong> - Google Forms integration for new incident submissions</li>
          <li><strong>Dataset Access</strong> - Downloadable CSV export of full dataset</li>
          <li><strong>Sources Page</strong> - Primary and secondary source documentation</li>
          <li><strong>Attribution</strong> - Proper citation and acknowledgment system</li>
        </ul>
      </div>
    </div>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">User Experience Features</h3>
    <ul class="list-disc list-inside mb-6 text-base-content/90 space-y-2 ml-4">
      <li><strong>Vintage Aesthetic</strong> - Authentic newspaper archive design with sepia tones and period typography</li>
      <li><strong>Responsive Design</strong> - Fully responsive layout optimized for desktop, tablet, and mobile</li>
      <li><strong>Performance</strong> - Server-side rendering with 5-minute data caching for fast load times</li>
      <li><strong>SEO Optimized</strong> - Comprehensive meta tags, structured data, and sitemap</li>
      <li><strong>Analytics</strong> - Google Analytics integration for usage tracking</li>
    </ul>

    <h2 id="architecture" class="text-3xl font-semibold mt-12 mb-6 text-base-content border-b-2 border-amber-300 pb-2">Technical Architecture</h2>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Application Structure</h3>

    <div class="bg-gray-50 border border-gray-300 rounded-lg p-6 mb-6 font-mono text-sm not-prose">
      <pre class="overflow-x-auto">
chinese-violence-portal/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # Reusable UI components
â”‚   â”‚   â”œâ”€â”€ Navbar.astro    # Global navigation
â”‚   â”‚   â”œâ”€â”€ ArticleViewer.astro  # Modal viewer
â”‚   â”‚   â””â”€â”€ Timeline.tsx    # React timeline component
â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â””â”€â”€ PageLayout.astro     # Main layout wrapper
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ index.astro          # Homepage
â”‚   â”‚   â”œâ”€â”€ explore.astro        # Records archive
â”‚   â”‚   â”œâ”€â”€ visualize/           # Data visualization pages
â”‚   â”‚   â”‚   â”œâ”€â”€ charts.astro
â”‚   â”‚   â”‚   â”œâ”€â”€ compare.astro
â”‚   â”‚   â”‚   â”œâ”€â”€ news.astro
â”‚   â”‚   â”‚   â”œâ”€â”€ newscloud.astro
â”‚   â”‚   â”‚   â”œâ”€â”€ map.astro
â”‚   â”‚   â”‚   â””â”€â”€ timeline.astro
â”‚   â”‚   â”œâ”€â”€ articles/[articleId].astro   # Dynamic article pages
â”‚   â”‚   â”œâ”€â”€ records/[lynchingId].astro   # Dynamic record pages
â”‚   â”‚   â”œâ”€â”€ api/                # API endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ lynchings.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ articles.ts
â”‚   â”‚   â”‚   â””â”€â”€ chat.ts
â”‚   â”‚   â”œâ”€â”€ chat.astro
â”‚   â”‚   â”œâ”€â”€ dataset.astro
â”‚   â”‚   â”œâ”€â”€ sources.astro
â”‚   â”‚   â”œâ”€â”€ submit.astro
â”‚   â”‚   â”œâ”€â”€ accessibility.astro
â”‚   â”‚   â””â”€â”€ 404.astro
â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â”œâ”€â”€ tailwind.css         # Tailwind base + custom styles
â”‚   â”‚   â””â”€â”€ components.css       # Component-specific styles
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ googleSheets.ts      # Data fetching utilities
â”‚   â””â”€â”€ scripts/                 # Build-time data processing
â”œâ”€â”€ public/                      # Static assets
â”‚   â”œâ”€â”€ article-scans/           # Newspaper scans
â”‚   â”œâ”€â”€ mapimages/               # Location thumbnails
â”‚   â””â”€â”€ timeline.json            # Historical timeline data (Gold Rush to WWI)
â””â”€â”€ astro.config.mjs             # Astro configuration</pre>
    </div>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Rendering Strategy</h3>
    <ul class="list-disc list-inside mb-6 text-base-content/90 space-y-2 ml-4">
      <li><strong>Server-Side Rendering (SSR)</strong> - Most pages rendered on-demand for fresh data</li>
      <li><strong>Static Pre-rendering</strong> - Accessibility statement pre-rendered at build time</li>
      <li><strong>Hybrid Approach</strong> - Combines static and dynamic content for optimal performance</li>
      <li><strong>Client-Side Hydration</strong> - Interactive components hydrate after page load</li>
    </ul>

    <div class="bg-blue-50 border-l-4 border-blue-500 rounded-lg p-6 mb-8 not-prose">
      <h4 class="text-lg font-semibold mb-3 text-blue-900">ðŸ’¡ What is Client-Side Hydration?</h4>
      <p class="text-sm text-base-content/90 mb-3">
        <strong>Hydration</strong> is the process of making static HTML interactive in the browser. Here's how it works:
      </p>
      
      <div class="text-sm text-base-content/90 space-y-3">
        <div>
          <strong>1. Server Renders HTML (Fast)</strong>
          <p>When you visit a page, the server generates complete HTML with all content visible. This happens instantlyâ€”users see content immediately, even before JavaScript loads.</p>
        </div>
        
        <div>
          <strong>2. Browser Receives Static HTML</strong>
          <p>The browser displays this HTML. The page looks complete, but interactive features (buttons, animations, etc.) don't work yet.</p>
        </div>
        
        <div>
          <strong>3. JavaScript "Hydrates" Components (Adds Interactivity)</strong>
          <p>JavaScript loads and attaches event listeners and state management to the static HTML, making it interactive. This is called "hydration" because you're adding life/interactivity to the dry/static HTML.</p>
        </div>
      </div>

      <div class="mt-4 pt-4 border-t border-blue-200">
        <p class="text-sm text-base-content/90 mb-2">
          <strong>Example on This Site:</strong>
        </p>
        <ul class="text-sm text-base-content/90 space-y-2">
          <li>â€¢ <strong>Timeline Component</strong> (<code class="text-xs bg-gray-100 px-1 rounded">Timeline.tsx</code>) - Server renders the timeline as static HTML. Once JavaScript loads, React "hydrates" it, enabling filtering, animations, and interactions.</li>
          <li>â€¢ <strong>Navbar, ArticleViewer</strong> (<code class="text-xs bg-gray-100 px-1 rounded">.astro</code> files) - Pure Astro components with no hydration neededâ€”they're just HTML/CSS.</li>
        </ul>
      </div>

      <div class="mt-4 pt-4 border-t border-blue-200">
        <p class="text-sm text-base-content/90">
          <strong>Why This Matters:</strong> Astro's "islands architecture" only hydrates interactive components (like the Timeline), while keeping everything else as lightweight HTML. This makes the site fastâ€”you get instant page loads with interactive features only where needed.
        </p>
      </div>
    </div>

    <h2 id="technology-stack" class="text-3xl font-semibold mt-12 mb-6 text-base-content border-b-2 border-amber-300 pb-2">Technology Stack</h2>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Core Framework</h3>
    <div class="bg-white border border-amber-200 rounded-lg p-5 mb-6 not-prose">
      <h4 class="text-lg font-semibold mb-3 text-vintage-ink">Astro v5.16.11</h4>
      <p class="text-sm text-base-content/90 mb-3">
        <strong>Why Astro?</strong> Chosen for its islands architecture, excellent performance, 
        and ability to use multiple frameworks together. Astro ships zero JavaScript by default, 
        only hydrating interactive components when needed.
      </p>
      <ul class="text-sm text-base-content/90 space-y-2">
        <li><strong>Islands Architecture</strong> - Interactive components load independently</li>
        <li><strong>Server-First</strong> - Renders HTML on the server for fast initial loads</li>
        <li><strong>Framework Agnostic</strong> - Uses Astro components and React where needed</li>
        <li><strong>Built-in Optimizations</strong> - Automatic image optimization, CSS bundling</li>
      </ul>
    </div>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Frontend Technologies</h3>
    <div class="grid md:grid-cols-2 gap-6 mb-6 not-prose">
      <div class="bg-white border border-amber-200 rounded-lg p-5">
        <h4 class="text-lg font-semibold mb-3 text-vintage-ink">Tailwind CSS v3</h4>
        <ul class="text-sm text-base-content/90 space-y-2">
          <li>Utility-first CSS framework</li>
          <li>Custom color palette (vintage-ink, amber tones)</li>
          <li>DaisyUI components for UI elements</li>
          <li>Typography plugin for content styling</li>
        </ul>
      </div>

      <div class="bg-white border border-amber-200 rounded-lg p-5">
        <h4 class="text-lg font-semibold mb-3 text-vintage-ink">React v18</h4>
        <ul class="text-sm text-base-content/90 space-y-2">
          <li>Used for Timeline component only</li>
          <li>Client-side interactivity with hooks</li>
          <li>Partial hydration via Astro islands</li>
          <li>Type-safe with TypeScript</li>
        </ul>
      </div>

      <div class="bg-white border border-amber-200 rounded-lg p-5">
        <h4 class="text-lg font-semibold mb-3 text-vintage-ink">Apache ECharts v5</h4>
        <ul class="text-sm text-base-content/90 space-y-2">
          <li>Professional data visualization library</li>
          <li>Interactive charts with tooltips</li>
          <li>Accessible with ARIA labels + data tables</li>
          <li>Responsive and mobile-optimized</li>
        </ul>
      </div>

      <div class="bg-white border border-amber-200 rounded-lg p-5">
        <h4 class="text-lg font-semibold mb-3 text-vintage-ink">Leaflet + Mapbox</h4>
        <ul class="text-sm text-base-content/90 space-y-2">
          <li>Interactive mapping library</li>
          <li>Custom Mapbox tileset</li>
          <li>Animated timeline playback</li>
          <li>Keyboard navigation support</li>
        </ul>
      </div>
    </div>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Backend & APIs</h3>
    <ul class="list-disc list-inside mb-6 text-base-content/90 space-y-2 ml-4">
      <li><strong>Google Sheets API</strong> - Primary data source, fetches CSV exports programmatically</li>
      <li><strong>Anthropic Claude API</strong> - Powers AI chat interface with Sonnet 3.5 model</li>
      <li><strong>Mapbox API</strong> - Provides map tiles and geocoding services</li>
      <li><strong>Netlify Functions</strong> - Serverless API endpoints for data fetching and chat</li>
    </ul>

    <h2 id="data-pipeline" class="text-3xl font-semibold mt-12 mb-6 text-base-content border-b-2 border-amber-300 pb-2">Data Pipeline</h2>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Data Sources</h3>
    
    <div class="bg-amber-50 border-l-4 border-amber-500 rounded-lg p-6 mb-6 not-prose">
      <h4 class="text-lg font-semibold mb-3 text-vintage-ink">Primary Data: Google Sheets</h4>
      <p class="text-sm text-base-content/90 mb-3">
        The site uses two Google Sheets as the canonical data source:
      </p>
      <ul class="text-sm text-base-content/90 space-y-2">
        <li><strong>Lynchings Database</strong> - Sheet ID: <code class="text-xs bg-gray-100 px-2 py-1 rounded">18Bo9acVyuQTsdQ1baxSntSUZur50Yla8NcZKe2nZWyQ</code></li>
        <li><strong>Articles Database</strong> - Sheet ID: <code class="text-xs bg-gray-100 px-2 py-1 rounded">1ZRNb-M7aO0-j58avDV9JyMsHMllKNmewWm7dmZy7JPw</code></li>
      </ul>
    </div>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Data Flow</h3>
    <div class="bg-gray-50 border border-gray-300 rounded-lg p-6 mb-6 not-prose">
      <ol class="text-sm text-base-content/90 space-y-3">
        <li><strong>1. Source Data</strong> - Researcher updates Google Sheets with new records/articles</li>
        <li><strong>2. Build-Time Sync</strong> - <code>sync-data-to-public.cjs</code> script exports sheets to JSON during build</li>
        <li><strong>3. Static Cache</strong> - JSON files saved to <code>public/</code> directory for fast access</li>
        <li><strong>4. Runtime Fetch</strong> - API endpoints fetch fresh data from Google Sheets (5-minute cache)</li>
        <li><strong>5. Client Display</strong> - Pages render data with filtering, sorting, and visualization</li>
      </ol>
    </div>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Caching Strategy</h3>
    <ul class="list-disc list-inside mb-6 text-base-content/90 space-y-2 ml-4">
      <li><strong>Server Cache</strong> - API endpoints cache data for 5 minutes to reduce Google Sheets API calls</li>
      <li><strong>Build Cache</strong> - JSON exports bundled with deployment for offline fallback</li>
      <li><strong>Browser Cache</strong> - Standard HTTP caching headers for static assets</li>
      <li><strong>CDN Cache</strong> - Netlify Edge caching for global performance</li>
    </ul>

    <h2 id="deployment" class="text-3xl font-semibold mt-12 mb-6 text-base-content border-b-2 border-amber-300 pb-2">Deployment Infrastructure</h2>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Domain & Hosting</h3>
    <div class="bg-white border border-amber-200 rounded-lg p-5 mb-6 not-prose">
      <ul class="text-sm text-base-content/90 space-y-3">
        <li><strong>Domain</strong> - johncrow.org (registered through domain registrar)</li>
        <li><strong>Hosting</strong> - Netlify (https://www.netlify.com/)</li>
        <li><strong>SSL Certificate</strong> - Automatic HTTPS via Let's Encrypt</li>
        <li><strong>CDN</strong> - Global edge network for fast content delivery</li>
      </ul>
    </div>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Build & Deploy Process</h3>
    <div class="bg-gray-50 border border-gray-300 rounded-lg p-6 mb-6 not-prose">
      <ol class="text-sm text-base-content/90 space-y-3">
        <li><strong>1. Git Push</strong> - Developer pushes code to GitHub repository</li>
        <li><strong>2. Webhook Trigger</strong> - Netlify detects changes via webhook</li>
        <li><strong>3. Build Environment</strong> - Netlify creates Node.js build environment</li>
        <li><strong>4. Install Dependencies</strong> - <code>npm install</code> installs all packages</li>
        <li><strong>5. Data Sync</strong> - Pre-build script fetches latest Google Sheets data</li>
        <li><strong>6. Astro Build</strong> - Compiles all pages, optimizes assets</li>
        <li><strong>7. Deploy</strong> - Uploads built files to CDN</li>
        <li><strong>8. Live</strong> - Site available at johncrow.org</li>
      </ol>
    </div>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Environment Variables</h3>
    <p class="text-base-content/90 mb-4">
      Sensitive configuration stored as Netlify environment variables:
    </p>
    <ul class="list-disc list-inside mb-6 text-base-content/90 space-y-2 ml-4">
      <li><code>PUBLIC_MAPBOX_TOKEN</code> - Mapbox API access token</li>
      <li><code>ANTHROPIC_API_KEY</code> - Claude AI API key (server-side only)</li>
      <li><code>PUBLIC_LYNCHINGS_MAIN_GID</code> - Google Sheets tab ID for main data</li>
    </ul>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Git Repository</h3>
    <div class="bg-white border border-amber-200 rounded-lg p-5 mb-6 not-prose">
      <ul class="text-sm text-base-content/90 space-y-2">
        <li><strong>Platform</strong> - GitHub (private repository)</li>
        <li><strong>Branch Strategy</strong> - Single main branch for simplicity</li>
        <li><strong>Commit Hygiene</strong> - Descriptive commit messages with detailed descriptions</li>
        <li><strong>Version Control</strong> - Full history of site development preserved</li>
      </ul>
    </div>

    <h2 id="seo" class="text-3xl font-semibold mt-12 mb-6 text-base-content border-b-2 border-amber-300 pb-2">SEO & AI Optimization</h2>

    <div class="bg-blue-50 border-l-4 border-blue-500 rounded-lg p-6 mb-6 not-prose">
      <h3 class="text-xl font-semibold mb-3 text-blue-900">âœ“ SEO Score: 95/100</h3>
      <p class="text-sm text-base-content/90">
        The site is fully optimized for search engines (Google, Bing) and AI chatbots (ChatGPT, Claude, Perplexity, etc.).
        All technical SEO foundations are in place, with enhanced structured data for rich search results.
      </p>
    </div>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Search Engine Optimization</h3>

    <div class="grid md:grid-cols-2 gap-6 mb-6 not-prose">
      <div class="bg-white border border-amber-200 rounded-lg p-5">
        <h4 class="text-lg font-semibold mb-3 text-vintage-ink">Meta Tags & Headers</h4>
        <ul class="text-sm text-base-content/90 space-y-2">
          <li>â€¢ Unique title tags on all pages</li>
          <li>â€¢ Custom meta descriptions (150-160 chars)</li>
          <li>â€¢ Keywords meta tag for research terms</li>
          <li>â€¢ Author and robots meta tags</li>
          <li>â€¢ Canonical URLs prevent duplicates</li>
          <li>â€¢ Open Graph tags for social sharing</li>
          <li>â€¢ Twitter Card tags for previews</li>
        </ul>
      </div>

      <div class="bg-white border border-amber-200 rounded-lg p-5">
        <h4 class="text-lg font-semibold mb-3 text-vintage-ink">Structured Data (JSON-LD)</h4>
        <ul class="text-sm text-base-content/90 space-y-2">
          <li>â€¢ Schema.org WebSite markup</li>
          <li>â€¢ CollectionPage for archive</li>
          <li>â€¢ DataCatalog for database</li>
          <li>â€¢ SearchAction enables Google search box</li>
          <li>â€¢ Publisher credentials</li>
          <li>â€¢ Temporal coverage (1850-1915)</li>
          <li>â€¢ Knowledge Graph eligible</li>
        </ul>
      </div>

      <div class="bg-white border border-amber-200 rounded-lg p-5">
        <h4 class="text-lg font-semibold mb-3 text-vintage-ink">Technical SEO</h4>
        <ul class="text-sm text-base-content/90 space-y-2">
          <li>â€¢ XML sitemap auto-generated</li>
          <li>â€¢ robots.txt configured</li>
          <li>â€¢ HTTPS/SSL certificate (Netlify)</li>
          <li>â€¢ Mobile-first responsive design</li>
          <li>â€¢ Fast page speed (&lt;3s load)</li>
          <li>â€¢ Gzipped assets</li>
          <li>â€¢ Semantic HTML structure</li>
        </ul>
      </div>

      <div class="bg-white border border-amber-200 rounded-lg p-5">
        <h4 class="text-lg font-semibold mb-3 text-vintage-ink">Content Strategy</h4>
        <ul class="text-sm text-base-content/90 space-y-2">
          <li>â€¢ 70+ unique research records</li>
          <li>â€¢ 140+ transcribed articles</li>
          <li>â€¢ Descriptive alt text on images</li>
          <li>â€¢ Proper heading hierarchy</li>
          <li>â€¢ Internal linking structure</li>
          <li>â€¢ Academic authority/expertise</li>
          <li>â€¢ Citation-worthy content</li>
        </ul>
      </div>
    </div>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">AI Chatbot Optimization</h3>

    <p class="text-base-content/90 leading-relaxed mb-4">
      The site is explicitly optimized for AI chatbots and Large Language Model (LLM) crawlers, 
      ensuring your research is discoverable and citable by ChatGPT, Claude, Perplexity, Google Gemini, 
      and other AI assistants.
    </p>

    <div class="bg-white border border-amber-200 rounded-lg p-5 mb-6 not-prose">
      <h4 class="text-lg font-semibold mb-3 text-vintage-ink">Allowed AI Crawlers (robots.txt)</h4>
      <ul class="text-sm text-base-content/90 space-y-1">
        <li>â€¢ <strong>GPTBot</strong> - OpenAI (ChatGPT)</li>
        <li>â€¢ <strong>ChatGPT-User</strong> - ChatGPT web browsing</li>
        <li>â€¢ <strong>Google-Extended</strong> - Google Gemini/Bard</li>
        <li>â€¢ <strong>anthropic-ai / Claude-Web</strong> - Anthropic Claude</li>
        <li>â€¢ <strong>PerplexityBot</strong> - Perplexity AI</li>
        <li>â€¢ <strong>Applebot-Extended</strong> - Apple Intelligence</li>
        <li>â€¢ <strong>CCBot</strong> - Common Crawl (research corpus)</li>
        <li>â€¢ <strong>Diffbot</strong> - Knowledge graph extraction</li>
        <li>â€¢ <strong>Meta-ExternalAgent</strong> - Meta AI</li>
        <li>â€¢ <strong>cohere-ai</strong> - Cohere AI</li>
      </ul>
    </div>

    <div class="bg-purple-50 border-l-4 border-purple-500 rounded-lg p-6 mb-6 not-prose">
      <h4 class="text-lg font-semibold mb-3 text-purple-900">ðŸ¤– Why This Matters for Academic Research</h4>
      <p class="text-sm text-base-content/90 mb-3">
        When students, scholars, or journalists ask AI assistants about anti-Chinese violence, your research 
        will be discovered and cited. AI crawlers will:
      </p>
      <ul class="text-sm text-base-content/90 space-y-2">
        <li>â€¢ Index your primary source documents</li>
        <li>â€¢ Cite your incident database</li>
        <li>â€¢ Reference your historical analysis</li>
        <li>â€¢ Link to specific records and articles</li>
        <li>â€¢ Amplify your research impact</li>
      </ul>
    </div>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Analytics & Monitoring</h3>

    <div class="bg-white border border-amber-200 rounded-lg p-5 mb-6 not-prose">
      <h4 class="text-lg font-semibold mb-3 text-vintage-ink">Google Analytics 4</h4>
      <ul class="text-sm text-base-content/90 space-y-2">
        <li><strong>Property ID</strong> - G-EHFB9XXVEP</li>
        <li><strong>Location</strong> - Injected in <code class="text-xs bg-gray-100 px-1 rounded">src/layouts/PageLayout.astro</code> (line 22) and <code class="text-xs bg-gray-100 px-1 rounded">src/pages/index.astro</code> (line 37)</li>
        <li><strong>Tracking</strong> - Page views, user sessions, traffic sources, search queries</li>
        <li><strong>Privacy</strong> - Anonymized IP addresses, GDPR compliant</li>
        <li><strong>To Update</strong> - Replace <code class="text-xs bg-gray-100 px-1 rounded">G-EHFB9XXVEP</code> with your new token in both files</li>
      </ul>
    </div>

    <div class="bg-white border border-amber-200 rounded-lg p-5 mb-6 not-prose">
      <h4 class="text-lg font-semibold mb-3 text-vintage-ink">Netlify Analytics</h4>
      <ul class="text-sm text-base-content/90 space-y-2">
        <li><strong>Built-in</strong> - Server-side analytics (no cookies)</li>
        <li><strong>Data</strong> - Page views, bandwidth, top pages, geographic distribution</li>
        <li><strong>Access</strong> - Netlify dashboard â†’ Analytics tab</li>
        <li><strong>Benefit</strong> - More accurate than client-side (no ad blockers)</li>
      </ul>
    </div>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Next Steps for SEO</h3>

    <div class="bg-yellow-50 border-l-4 border-yellow-500 rounded-lg p-6 mb-6 not-prose">
      <h4 class="text-lg font-semibold mb-3 text-yellow-900">ðŸ“‹ Post-Launch Checklist</h4>
      <ol class="text-sm text-base-content/90 space-y-2 list-decimal list-inside">
        <li><strong>Week 1:</strong> Submit sitemap to <a href="https://search.google.com/search-console" target="_blank" rel="noopener" class="text-blue-600 hover:underline">Google Search Console</a></li>
        <li><strong>Week 1:</strong> Submit sitemap to <a href="https://www.bing.com/webmasters" target="_blank" rel="noopener" class="text-blue-600 hover:underline">Bing Webmaster Tools</a></li>
        <li><strong>Week 1:</strong> Verify Google Analytics tracking in dashboard</li>
        <li><strong>Month 1:</strong> Monitor indexing status and fix any crawl errors</li>
        <li><strong>Month 1:</strong> Review initial search queries in Search Console</li>
        <li><strong>Ongoing:</strong> Monitor search rankings for key terms</li>
        <li><strong>Ongoing:</strong> Track backlinks from academic citations</li>
        <li><strong>Ongoing:</strong> Add new records (fresh content boosts rankings)</li>
      </ol>
    </div>

    <p class="text-base-content/90 leading-relaxed mb-6">
      <strong>Additional Documentation:</strong> See <code class="text-sm bg-gray-100 px-2 py-1 rounded">SEO_SUMMARY.md</code> in the repository root for 
      comprehensive SEO implementation details, keyword strategy, and expected search performance.
    </p>

    <h2 id="accessibility" class="text-3xl font-semibold mt-12 mb-6 text-base-content border-b-2 border-amber-300 pb-2">Accessibility Compliance</h2>

    <div class="bg-green-50 border-l-4 border-green-500 rounded-lg p-6 mb-6 not-prose">
      <h3 class="text-xl font-semibold mb-3 text-green-900">âœ“ WCAG 2.2 Level AA Compliant</h3>
      <p class="text-sm text-base-content/90">
        The site meets all Web Content Accessibility Guidelines 2.2 Level AA standards and 
        Section 508 requirements. Full documentation available at <a href="/accessibility" class="text-accent hover:underline">/accessibility</a>.
      </p>
    </div>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Key Accessibility Features</h3>
    <ul class="list-disc list-inside mb-6 text-base-content/90 space-y-2 ml-4">
      <li><strong>Semantic HTML</strong> - Proper heading hierarchy, landmarks, and structure</li>
      <li><strong>Keyboard Navigation</strong> - All interactive elements accessible via keyboard</li>
      <li><strong>Screen Reader Support</strong> - ARIA labels, live regions, and descriptive text</li>
      <li><strong>Color Contrast</strong> - 7:1+ contrast ratios throughout (exceeds WCAG AA 4.5:1)</li>
      <li><strong>Chart Accessibility</strong> - Hidden data tables for all visualizations</li>
      <li><strong>Form Accessibility</strong> - Labels, error messages, and ARIA attributes</li>
      <li><strong>Focus Indicators</strong> - 3px high-contrast focus outlines (exceeds 2px minimum)</li>
      <li><strong>Alt Text</strong> - Descriptive alternative text for all images</li>
    </ul>

    <h2 id="maintenance" class="text-3xl font-semibold mt-12 mb-6 text-base-content border-b-2 border-amber-300 pb-2">Maintenance & Updates</h2>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Updating Content</h3>
    <div class="bg-amber-50 border border-amber-300 rounded-lg p-5 mb-6 not-prose">
      <h4 class="text-lg font-semibold mb-3 text-vintage-ink">Adding New Records/Articles</h4>
      <ol class="text-sm text-base-content/90 space-y-2">
        <li>1. Update Google Sheets with new data</li>
        <li>2. Upload article scans to <code>public/article-scans/</code> (if applicable)</li>
        <li>3. Upload location thumbnails to <code>public/mapimages/</code> (if applicable)</li>
        <li>4. Site automatically reflects changes within 5 minutes (or on next build)</li>
      </ol>
    </div>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Code Updates</h3>
    <ul class="list-disc list-inside mb-6 text-base-content/90 space-y-2 ml-4">
      <li><strong>Local Development</strong> - <code>npm run dev</code> starts development server</li>
      <li><strong>Testing</strong> - <code>npm run build</code> tests production build locally</li>
      <li><strong>Deployment</strong> - Push to GitHub main branch to deploy to production</li>
      <li><strong>Rollback</strong> - Netlify preserves all deployments for instant rollback</li>
    </ul>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Monitoring</h3>
    <ul class="list-disc list-inside mb-6 text-base-content/90 space-y-2 ml-4">
      <li><strong>Analytics</strong> - Google Analytics tracks usage, popular pages, and demographics</li>
      <li><strong>Error Tracking</strong> - Server logs available in Netlify dashboard</li>
      <li><strong>Performance</strong> - Lighthouse scores and Core Web Vitals monitored</li>
      <li><strong>Uptime</strong> - Netlify provides 99.9% uptime SLA</li>
    </ul>

    <h3 class="text-2xl font-semibold mt-8 mb-4 text-base-content">Future Enhancements</h3>
    <p class="text-base-content/90 mb-4">Potential improvements for future development:</p>
    <ul class="list-disc list-inside mb-6 text-base-content/90 space-y-2 ml-4">
      <li>Dark mode support for light-sensitive users</li>
      <li>Spanish translation for broader accessibility</li>
      <li>Advanced search with full-text indexing</li>
      <li>Interactive timeline component improvements</li>
      <li>User accounts for saving searches and annotations</li>
      <li>Enhanced mobile experience with progressive web app features</li>
    </ul>

    <hr class="my-12 border-t-2 border-amber-300" />

    <div class="bg-gray-50 border border-gray-300 rounded-lg p-6 mb-8 not-prose">
      <h3 class="text-xl font-semibold mb-3 text-base-content">Technical Summary</h3>
      <div class="grid md:grid-cols-2 gap-4 text-sm text-base-content/90">
        <div>
          <p class="font-semibold mb-2">Frontend</p>
          <ul class="space-y-1">
            <li>â€¢ Astro v5.16.11</li>
            <li>â€¢ React v18</li>
            <li>â€¢ Tailwind CSS v3</li>
            <li>â€¢ TypeScript</li>
          </ul>
        </div>
        <div>
          <p class="font-semibold mb-2">Backend</p>
          <ul class="space-y-1">
            <li>â€¢ Netlify Functions</li>
            <li>â€¢ Google Sheets API</li>
            <li>â€¢ Anthropic Claude API</li>
            <li>â€¢ Server-Side Rendering</li>
          </ul>
        </div>
        <div>
          <p class="font-semibold mb-2">Visualization</p>
          <ul class="space-y-1">
            <li>â€¢ Apache ECharts v5</li>
            <li>â€¢ Leaflet + Mapbox</li>
            <li>â€¢ Custom data processing</li>
          </ul>
        </div>
        <div>
          <p class="font-semibold mb-2">Infrastructure</p>
          <ul class="space-y-1">
            <li>â€¢ Netlify hosting</li>
            <li>â€¢ GitHub version control</li>
            <li>â€¢ Global CDN</li>
            <li>â€¢ Automatic HTTPS</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="text-center mt-12 not-prose">
      <p class="text-sm text-base-content/70 mb-4">
        <strong>Site Guide Version:</strong> 1.0<br>
        <strong>Last Updated:</strong> January 24, 2026<br>
        <strong>For Questions:</strong> Contact site administrator
      </p>
      <a href="/" class="inline-block px-6 py-3 bg-amber-100 hover:bg-amber-200 text-vintage-ink font-semibold rounded-lg shadow-sm hover:shadow-md transition-all duration-200 border border-amber-300">
        Return to Home
      </a>
    </div>
  </div>
</PageLayout>
